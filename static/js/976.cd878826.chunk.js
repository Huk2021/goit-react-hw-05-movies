"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[976],{303:function(e,n,t){t.d(n,{Z:function(){return s}});var r,c=t(523),a=t(271),o=t(168),u=t(751).ZP.ul(r||(r=(0,o.Z)(["\n  font-size: 20px;\n  \n"]))),i=t(184);function s(e){var n=e.list,t=(0,a.TH)();return(0,i.jsx)(u,{children:n&&n.map((function(e){var n=e.id,r=e.title;return(0,i.jsx)("li",{children:(0,i.jsx)(c.rU,{to:{pathname:"/movies/".concat(n),state:{from:t}},children:r})},n)}))})}},976:function(e,n,t){function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}t.r(n),t.d(n,{default:function(){return j}});var o,u,i,s=t(885),f=t(791),p=t(271),l=t(390),d=t(168),h=t(751),m=h.ZP.form(o||(o=(0,d.Z)(["\n  display: flex;\n   margin-left: 15px;\n\n"]))),v=h.ZP.input(u||(u=(0,d.Z)(["\n\n  width: 320px;\n  padding: 10px 15px;\n\n"]))),g=h.ZP.button(i||(i=(0,d.Z)(["\n  \n  padding-left: 20px;\n  padding-right: 20px;\n  cursor: pointer;\n\n"]))),b=t(184);function y(e){var n=e.onSubmit,t=(0,f.useState)(""),r=(0,s.Z)(t,2),c=r[0],a=r[1];return(0,b.jsx)("div",{children:(0,b.jsxs)(m,{onSubmit:function(e){e.preventDefault();var t=e.target.elements.query.value;""!==t.trim()?(n(t),a("")):alert("\u041e\u0448\u0438\u0431\u043a\u0430!\u041d\u0435\u0442 \u0442\u0430\u043a\u043e\u0433\u043e \u0444\u0438\u043b\u044c\u043c\u0430")},children:[(0,b.jsx)(v,{onChange:function(e){a(e.currentTarget.value.toLowerCase().trim())},value:c,name:"query",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"type to search movies..."}),(0,b.jsx)(g,{type:"submit",children:"Search"})]})})}var x=t(303);function j(){var e,n=(0,f.useState)(""),t=(0,s.Z)(n,2),r=t[0],c=t[1],o=(0,f.useState)([]),u=(0,s.Z)(o,2),i=u[0],d=u[1],h=(0,p.k6)(),m=(0,p.TH)(),v=null!==(e=new URLSearchParams(m.search).get("query"))&&void 0!==e?e:"";return(0,f.useEffect)((function(){c(v)}),[]),(0,f.useEffect)((function(){""!==r.trim()&&((0,l.Ai)(r).then((function(e){return d(e.results)})),h.push(a(a({},m),{},{search:"query=".concat(r)})))}),[r]),(0,f.useEffect)((function(){}),[i]),(0,b.jsxs)("div",{children:[(0,b.jsx)(y,{onSubmit:function(e){c(e)}}),i&&(0,b.jsx)(x.Z,{list:i})]})}},390:function(e,n,t){t.d(n,{wr:function(){return f},Ai:function(){return p},Y5:function(){return l},xc:function(){return d},Hx:function(){return h}});var r=t(861),c=t(757),a=t.n(c),o="https://api.themoviedb.org/3",u="65d9701d0227b60ddad8e7d6a13e988e";function i(){return s.apply(this,arguments)}function s(){return s=(0,r.Z)(a().mark((function e(){var n,t,r,c=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:"",t=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,fetch(n,t);case 4:if(!(r=e.sent).ok){e.next=11;break}return e.next=8,r.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function f(){return i("".concat(o,"/trending/all/day?api_key=").concat(u))}function p(e){return i("".concat(o,"/search/movie?api_key=").concat(u,"&language=en-US&page=1&include_adult=false&query=").concat(e))}function l(e){return i("".concat(o,"/movie/").concat(e,"?api_key=").concat(u,"&language=en-US"))}function d(e){return i("".concat(o,"/movie/").concat(e,"/credits?api_key=").concat(u,"&language=en-US"))}function h(e){return i("".concat(o,"/movie/").concat(e,"/reviews?api_key=").concat(u,"&language=en-US&page=1"))}}}]);
//# sourceMappingURL=976.cd878826.chunk.js.map